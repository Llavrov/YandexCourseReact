(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,a){e.exports={container:"forgotPassword_container__2ge9f"}},106:function(e,t,a){e.exports=a(217)},111:function(e,t,a){},14:function(e,t,a){e.exports={cards:"burgerIngridients_cards__3NsAd",burgers:"burgerIngridients_burgers__1teSK",rolls:"burgerIngridients_rolls__3GtM5",container:"burgerIngridients_container__IpC2g",dragActive:"burgerIngridients_dragActive__3dnYx",image:"burgerIngridients_image__16zgQ",price:"burgerIngridients_price__1ZE8T",tabBurger:"burgerIngridients_tabBurger__1cA-v",p:"burgerIngridients_p__3WrQj",count:"burgerIngridients_count__1uf6V"}},16:function(e,t,a){e.exports={container:"ModalItem_container__IsyAh",closeBtn:"ModalItem_closeBtn__kTJJE",contentBox:"ModalItem_contentBox__3lYPe",ul:"ModalItem_ul__1ICFC",li:"ModalItem_li__287W7",image:"ModalItem_image__1yoU6",modalOverlay:"ModalItem_modalOverlay__sgKAE",header:"ModalItem_header__1Eo27"}},18:function(e,t,a){e.exports={header:"header_header__1zw3k",container:"header_container__SQs5o",unactive:"header_unactive__ZB6S4",active:"header_active__3oCkt",profile:"header_profile__1Wh2d",icon:"header_icon__3W_By",logo:"header_logo__3ft-E"}},217:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(35),o=a.n(c),s=(a(111),a(3)),l=a(18),i=a.n(l),u=a(1),m=a(23);var p=function(){var e=(Object(u.g)().state||{from:{pathname:"/"}}).from;return r.a.createElement("header",{className:i.a.header},r.a.createElement("div",{className:i.a.container},r.a.createElement("ul",null,r.a.createElement(m.b,{className:i.a.unactive,activeClassName:i.a.active,to:{pathname:"/",state:{from:e}}},r.a.createElement("li",{className:"pt-4 pb-4 pr-5 pl-5 "},r.a.createElement(s.BurgerIcon,{className:i.a.icon}),r.a.createElement("p",{className:"pl-2 text text_type_main-default"},"\u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440"))),r.a.createElement(m.b,{className:i.a.unactive,activeClassName:i.a.active,to:{pathname:"/",state:{from:e}}},r.a.createElement("li",{className:"pt-4 pb-4 pr-5 pl-5"},r.a.createElement(s.ListIcon,{className:i.a.icon}),r.a.createElement("p",{className:"pl-2 text text_type_main-default"},"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432")))),r.a.createElement("div",{className:i.a.logo},r.a.createElement(s.Logo,null)),r.a.createElement(m.b,{className:i.a.unactive,activeClassName:i.a.active,to:{pathname:"/profile",state:{from:e}}},r.a.createElement("div",{className:"".concat(i.a.profile," pt-4 pb-4 pr-5 pl-5")},r.a.createElement(s.ProfileIcon,{className:i.a.icon}),r.a.createElement("p",{className:"pl-2 text text_type_main-default"},"\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442")))))},d=a(71),E=a.n(d),_=a(6),g=a(14),f=a.n(g);var b=function(e){var t=e.current,a=void 0===t?"\u0411\u0443\u043b\u043a\u0438":t,n=e.setCurrent;return r.a.createElement("div",{className:f.a.tabBurger},r.a.createElement(s.Tab,{value:"\u0411\u0443\u043b\u043a\u0438",active:"\u0411\u0443\u043b\u043a\u0438"===a,onClick:n},"\u0411\u0443\u043b\u043a\u0438"),r.a.createElement(s.Tab,{value:"\u0421\u043e\u0443\u0441\u044b",active:"\u0421\u043e\u0443\u0441\u044b"===a,onClick:n},"\u0421\u043e\u0443\u0441\u044b"),r.a.createElement(s.Tab,{value:"\u041a\u043e\u0442\u043b\u0435\u0442\u044b",active:"\u041d\u0430\u0447\u0438\u043d\u043a\u0430"===a,onClick:n},"\u041a\u043e\u0442\u043b\u0435\u0442\u044b"))},v=a(5),y=a(36),h=a(4),O="ADD_INGREDIENT_ITEM",C="DELETE_INGREDIENT_ITEM",x=a(225),N=a(12),T=a.n(N);T.a.shape({_id:T.a.string.isRequired,name:T.a.string.isRequired,type:T.a.string.isRequired,proteins:T.a.number.isRequired,fat:T.a.number.isRequired,carbohydrates:T.a.number.isRequired,calories:T.a.number.isRequired,price:T.a.number.isRequired,image:T.a.string.isRequired,image_mobile:T.a.string.isRequired,image_large:T.a.string.isRequired,__v:T.a.number.isRequired});var R=function(e){var t=Object(y.a)({},e),a=Object(h.b)(),n=Object(h.c)(function(e){return e.constructorBurger.constructorData}),c=Object(h.c)(function(e){return e.constructorBurger.constructorBun})._id===t._id?1:n.filter(function(e){return e._id===t._id}).length,o=Object(x.a)({type:"Ingredient",item:Object(v.a)({},t),collect:function(e){return{isDrag:e.isDragging()}}}),l=Object(_.a)(o,2),i=l[0].isDrag,u=l[1];return r.a.createElement("div",{draggable:!0,ref:u,className:i?"".concat(f.a.dragActive," ").concat(f.a.container," ml-4"):"".concat(f.a.container," ml-4"),onClick:function(){a({type:O,item:Object(v.a)({},t)})}},!!c&&r.a.createElement("span",{className:"".concat(f.a.count," text text_type_digits-default")},c),r.a.createElement("img",{className:"".concat(f.a.image," pr-4 pl-4"),src:t.image,alt:t.image}),r.a.createElement("span",{className:"".concat(f.a.price," pt-1 pb-1 text text_type_digits-default")},t.price," ",r.a.createElement(s.CurrencyIcon,{type:"primary"})),r.a.createElement("p",{className:"".concat(f.a.p," pb-8 text text_type_main-default")},t.name))},S=a(16),I=a.n(S);var j=function(){var e=Object(h.c)(function(e){return e.ingredient.ingredientData});return r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{className:"".concat(I.a.image," pb-4"),src:e.image,alt:"".concat(e.image)}),r.a.createElement("p",{className:"pb-8 text text_type_main-medium"},e.name),r.a.createElement("ul",{className:"".concat(I.a.ul," pb-15")},r.a.createElement("li",{className:"pr-5 ".concat(I.a.li)},r.a.createElement("p",{className:"text text_type_main-small pb-2"},"\u041a\u0430\u043b\u043e\u0440\u0438\u0438,\u043a\u043a\u0430\u043b"),r.a.createElement("p",{className:"text text_type_digits-default"},e.calories)),r.a.createElement("li",{className:"pr-5 ".concat(I.a.li)},r.a.createElement("p",{className:"text text_type_main-small pb-2"},"\u0411\u0435\u043b\u043a\u0438, \u0433"),r.a.createElement("p",{className:"text text_type_digits-default"},e.proteins)),r.a.createElement("li",{className:"pr-5 ".concat(I.a.li)},r.a.createElement("p",{className:"text text_type_main-small pb-2"},"\u0416\u0438\u0440\u044b, \u0433"),r.a.createElement("p",{className:"text text_type_digits-default"},e.fat)),r.a.createElement("li",{className:I.a.li},r.a.createElement("p",{className:"text text_type_main-small pb-2"},"\u0423\u0433\u043b\u0435\u0432\u043e\u0434\u044b, \u0433"),r.a.createElement("p",{className:"text text_type_digits-default"},e.carbohydrates))))};var D=function(e){var t=Object(y.a)({},e);return r.a.createElement("div",{onClick:function(){return t.onClose(!0)},className:I.a.modalOverlay},t.children)};var U=function(e){var t=Object(y.a)({},e),a=document.getElementById("reactModal");return r.a.useEffect(function(){var e=function(e){"Escape"===e.key&&t.onClose()};return document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}},[]),o.a.createPortal(r.a.createElement(D,{onClose:t.onClose},r.a.createElement("div",{onClick:function(e){e.stopPropagation()},className:I.a.contentBox},r.a.createElement("div",{onClick:t.onClose,className:"".concat(I.a.closeBtn," mr-10 mt-15")},r.a.createElement(s.CloseIcon,{type:"primary"})),r.a.createElement("div",{className:I.a.container},r.a.createElement("div",{className:"".concat(I.a.header," ").concat(t.classModal," pl-10")},r.a.createElement("p",{className:"text text_type_main-large"},t.header)),t.children))),a)};var A=function(){var e=Object(h.b)(),t=Object(h.c)(function(e){return e.ingredient.modalOpen}),a=Object(h.c)(function(e){return e.burger.burgersData}),n=r.a.useState("\u0411\u0443\u043b\u043a\u0438"),c=Object(_.a)(n,2),o=c[0],s=c[1];function l(e){var t=[[Math.abs(e.currentTarget.querySelector("#main").getClientRects()[0].top),"\u041d\u0430\u0447\u0438\u043d\u043a\u0430"],[Math.abs(e.currentTarget.querySelector("#Souse").getClientRects()[0].top),"\u0421\u043e\u0443\u0441\u044b"],[Math.abs(e.currentTarget.querySelector("#Bun").getClientRects()[0].top),"\u0411\u0443\u043b\u043a\u0438"]].sort(function(e,t){return e[0]-t[0]});s(String(t[0][1]))}return r.a.createElement("div",{className:"".concat(f.a.cards," mr-10")},!t&&r.a.createElement(U,{header:"\u0414\u0435\u0442\u0430\u043b\u0438 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u0430",classModal:"mt-10",onClose:function(){return e({type:C})}},r.a.createElement(j,null)),r.a.createElement("p",{className:"text text_type_main-large pb-5 pt-10"},"\u0421\u043e\u0431\u0435\u0440\u0438\u0442\u0435 \u0431\u0443\u0440\u0433\u0435\u0440"),r.a.createElement(b,{current:o,setCurrent:s}),r.a.useMemo(function(){return r.a.createElement("div",{onScroll:l,className:"".concat(f.a.burgers," pt-10")},r.a.createElement("p",{id:"Bun",className:"pb-6 text text_type_main-medium"},"\u0411\u0443\u043b\u043a\u0438"),r.a.createElement("div",{className:f.a.rolls},a.filter(function(e){return"bun"===e.type}).map(function(e,t){return r.a.createElement(R,Object.assign({},e,{key:"".concat(e._id)}))})),r.a.createElement("p",{id:"Souse",className:"pb-6 pt-10 text text_type_main-medium"},"\u0421\u043e\u0443\u0441\u044b"),r.a.createElement("div",{className:f.a.rolls},a.filter(function(e){return"sauce"===e.type}).map(function(e,t){return r.a.createElement(R,Object.assign({},e,{key:"".concat(e._id)}))})),r.a.createElement("p",{id:"main",className:"pb-6 pt-10 text text_type_main-medium"},"\u041d\u0430\u0447\u0438\u043d\u043a\u0430"),r.a.createElement("div",{className:f.a.rolls},a.filter(function(e){return"main"===e.type}).map(function(e,t){return r.a.createElement(R,Object.assign({},e,{key:"".concat(e._id)}))})))}))},k=a(27),B=a(29),L=a.n(B),w="ADD_CONSTRUCTOR_ITEM",F="DELETE_CONSTRUCTOR_ITEM",G="SET_CONSTRUCTOR_BUN",q="UPDATE_CONSTRUCTOR_LIST",M=a(226);var P=function(e){var t=e.item,a=e.moveCard,c=e.index,o=Object(h.b)(),l=Object(n.useRef)(null),i=Object(M.a)({accept:"component",collect:function(e){return{handlerId:e.getHandlerId()}},hover:function(e,t){if(l.current){var n=e.index,r=c;if(n!==r){var o=l.current.getBoundingClientRect(),s=(o.bottom-o.top)/2,i=t.getClientOffset().y-o.top;n<r&&i<s||n>r&&i>s||(a(n,r),e.index=r)}}}}),u=Object(_.a)(i,2),m=u[0].handlerId,p=u[1],d=Object(x.a)({type:"component",item:function(){return{id:t._id,index:c}},collect:function(e){return{isDragging:e.isDragging()}}}),E=Object(_.a)(d,2),g=E[0].isDragging,f=E[1],b=g?0:1;return"bun"!==t.type&&f(p(l)),r.a.createElement("div",{index:c,ref:l,style:{opacity:b},onDrop:function(e){return e.preventDefault()},"data-handler-id":m,className:L.a.backetItem},r.a.createElement("span",{className:"pr-2"},r.a.createElement(s.DragIcon,{type:"primary"})),r.a.createElement(s.ConstructorElement,{handleClose:function(){o({type:F,item:t})},text:t.name,price:t.price,thumbnail:t.image}))},z=a(73),Q=a.n(z);P.propTypes={orderNumber:T.a.number};var H=function(e){var t=e.orderNumber;return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"".concat(Q.a.OrderNumber," pt-30 pb-8 text text_type_digits-large")},t),r.a.createElement("p",{className:"pb-15 text text_type_main-medium"},"\u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0437\u0430\u043a\u0430\u0437\u0430"),r.a.createElement("div",null,r.a.createElement("svg",{width:"107",height:"102",viewBox:"0 0 107 102",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.36637 37.3873C2.54454 45.5044 2.54455 56.4957 8.36637 64.6127L28.3336 92.4518C34.1554 100.569 44.4748 103.965 53.8947 100.865L86.2023 90.2313C95.6223 87.1309 102 78.2387 102 68.2055V33.7945C102 23.7612 95.6222 14.8691 86.2023 11.7687L53.8947 1.13508C44.4748 -1.96536 34.1554 1.43114 28.3336 9.54819L8.36637 37.3873Z",fill:"url(#paint0_radial_311_23)",fillOpacity:"0.25"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M103.944 39.453C108.019 46.5983 108.019 55.4017 103.944 62.547L88.5996 89.453C84.5247 96.5983 76.994 101 68.8442 101H38.1558C30.006 101 22.4753 96.5983 18.4004 89.453L3.05617 62.547C-1.01872 55.4017 -1.01872 46.5983 3.05617 39.453L18.4004 12.547C22.4753 5.40169 30.006 1 38.1558 1L68.8442 1C76.994 1 84.5247 5.40169 88.5996 12.547L103.944 39.453Z",fill:"url(#paint1_radial_311_23)",fillOpacity:"0.25"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M43.9249 20.9109C49.3362 17.0297 56.6638 17.0297 62.0751 20.9109L80.6345 34.2224C86.0459 38.1036 88.3102 44.9832 86.2433 51.2632L79.1542 72.8016C77.0873 79.0815 71.1592 83.3333 64.4703 83.3333H41.5296C34.8408 83.3333 28.9127 79.0815 26.8458 72.8016L19.7567 51.2632C17.6898 44.9832 19.9541 38.1036 25.3655 34.2224L43.9249 20.9109Z",fill:"url(#paint2_radial_311_23)",fillOpacity:"0.25"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M73.3122 37.5959C74.1999 38.4172 74.2327 39.7806 73.3852 40.641L50.0519 64.3333C49.6272 64.7646 49.0371 65.0059 48.422 64.9999C47.8069 64.9939 47.222 64.741 46.8063 64.3016L34.5841 51.3785C33.7548 50.5016 33.8159 49.1392 34.7206 48.3354C35.6253 47.5316 37.031 47.5908 37.8604 48.4677L48.4773 59.6934L70.1703 37.6667C71.0177 36.8062 72.4244 36.7745 73.3122 37.5959Z",fill:"#F2F2F3"}),r.a.createElement("defs",null,r.a.createElement("radialGradient",{id:"paint0_radial_311_23",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(53 51) rotate(-46.1458) scale(70.7248 53.2019)"},r.a.createElement("stop",{stopColor:"#801AB3",stopOpacity:"0"}),r.a.createElement("stop",{offset:"1",stopColor:"#4C4CFF"})),r.a.createElement("radialGradient",{id:"paint1_radial_311_23",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(53.5 51) rotate(-43.0632) scale(73.2274 55.0025)"},r.a.createElement("stop",{stopColor:"#801AB3",stopOpacity:"0"}),r.a.createElement("stop",{offset:"1",stopColor:"#4C4CFF"})),r.a.createElement("radialGradient",{id:"paint2_radial_311_23",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(53 50.6667) rotate(136.146) scale(47.1499 35.4679)"},r.a.createElement("stop",{stopColor:"#801AB3",stopOpacity:"0"}),r.a.createElement("stop",{offset:"1",stopColor:"#4C4CFF",stopOpacity:"0.5"}))))),r.a.createElement("p",{className:"pt-15 pb-2 text text_type_main-small"},"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437 \u043d\u0430\u0447\u0430\u043b\u0438 \u0433\u043e\u0442\u043e\u0432\u0438\u0442\u044c"),r.a.createElement("p",{className:"".concat(Q.a.pColor," pb-30 text text_type_main-small")},"\u0434\u043e\u0436\u0434\u0438\u0442\u0435\u0441\u044c \u0433\u043e\u0442\u043e\u0432\u043d\u043e\u0441\u0442\u0438 \u0437\u0430\u043a\u0430\u0437\u0430 \u043d\u0430 \u043e\u0440\u0431\u0438\u0442\u0430\u043b\u044c\u043d\u043e\u0439 \u0441\u0442\u0430\u043d\u0446\u0438\u0438"))},Y="https://norma.nomoreparties.space/api/";function Z(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430 ".concat(e.status))}var J="SET_ORDER_CLOSE",K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"orders",t=arguments.length>1?arguments[1]:void 0;return function(a){a({type:"GET_ORDER_REQUEST"}),fetch("".concat(Y).concat(e),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ingredients:t})}).then(Z).then(function(e){return a({type:"GET_ORDER_SUCCESS",orderData:e})}).catch(function(e){return a({type:"GET_ORDER_FAILED"})})}},W=a(227);var X=function(){var e=Object(h.b)(),t=Object(h.c)(function(e){return e.constructorBurger}),a=t.constructorBun,n=t.constructorData,c=t.constructorFinalCoast,o=Object(h.c)(function(e){return e.order}).orderData,l=Object(h.c)(function(e){return e.order.orderData}).success,i=r.a.useCallback(function(t,a){var r=n[t],c=Object(k.a)(n);c.splice(t,1),c.splice(a,0,r),e({type:q,constructorData:c})},[n,e]),u=Object(M.a)({accept:"Ingredient",collect:function(e){return{isHover:e.isOver()}},drop:function(t){var a,n=(a=t,Object(v.a)({},a,{index_id:"".concat(Object(W.a)())}));"bun"===n.type?e({type:G,item:n}):e({type:w,item:n})}}),m=Object(_.a)(u,2),p=(m[0].isHover,m[1]);return r.a.createElement("div",{className:L.a.container},l&&r.a.createElement(U,{header:"",onClose:function(){return e({type:J})}},r.a.createElement(H,{orderNumber:o.order.number})),r.a.createElement("div",{ref:p,className:"pt-25 pb-10 ".concat(L.a.componentsOfBurger)},a.isEmpty&&!n.length&&r.a.createElement("p",{className:"".concat(L.a.emptyText," pt-20 text text_type_main-medium")},"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u0435\u0440\u0435\u043d\u0435\u0441\u0438\u0442\u0435 \u0441\u044e\u0434\u0430 \u0431\u0443\u043b\u043a\u0443 \u0438 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u044b \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u0430"),!a.isEmpty&&r.a.createElement("div",{className:"pl-8"},r.a.createElement(s.ConstructorElement,{type:"top",isLocked:!0,text:"".concat(a.name," (\u0432\u0435\u0440\u0445)"),price:a.price,thumbnail:a.image})),r.a.createElement("section",{className:"".concat(L.a.component," pr-4")},n.map(function(e,t){return r.a.createElement(P,{moveCard:i,index:t,key:e.index_id,item:Object(v.a)({},e,{index:t})})})),!a.isEmpty&&r.a.createElement("div",{className:"pl-8"},r.a.createElement(s.ConstructorElement,{type:"bottom",isLocked:!0,text:"".concat(a.name," (\u043d\u0438\u0437)"),price:a.price,thumbnail:a.image}))),r.a.createElement("div",{className:L.a.footerConstructor},r.a.createElement("p",{className:"text text_type_digits-medium pr-10"},c,r.a.createElement(s.CurrencyIcon,{type:"primary"})),r.a.createElement(s.Button,{type:"primary",size:"large",onClick:function(){var t=[].concat(Object(k.a)(n.map(function(e){return e._id})),[a._id]);e(K("orders",t))}},"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437")))},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ingredients";return function(t){t({type:"GET_BURGER_REQUEST"}),fetch("".concat(Y).concat(e)).then(Z).then(function(e){t({type:"GET_BURGER_SUCCESS",burgersData:e.data})}).catch(function(e){return t({type:"GET_BURGER_FAILED"})})}},$=a(97),ee=a.n($);function te(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([$?*|{}\]\\^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}function ae(e,t,a){var n=(a=Object(v.a)({path:"/"},a)).expires;if("number"==typeof n&&n){var r=new Date;r.setTime(r.getTime()+1e3*n),n=a.expires=r}n&&n.toUTCString&&(a.expires=n.toUTCString());var c=e+"="+(t=encodeURIComponent(t));for(var o in a){c+="; "+o;var s=a[o];!0!==s&&(c+="="+s)}document.cookie=c}var ne=function(){return function(e){te("accessToken")?e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"auth/user";return function(t){return fetch("".concat(Y).concat(e),{method:"GET",headers:{"Content-Type":"application/json;charset-utf-8",authorization:te("accessToken")}}).then(Z)}}()).then(function(t){e({type:"AUTH_CHECKED",payload:t})}):e({type:"AUTH_CHECKED",payload:{user:null}})}},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"auth/login",t=arguments.length>1?arguments[1]:void 0;return function(a){a({type:"REQUEST_AUTHORIZATION"}),fetch("".concat(Y).concat(e),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(Z).then(function(e){ae("accessToken",e.accessToken,{expires:1200}),localStorage.setItem("refreshToken",e.refreshToken),a({type:"REQUEST_AUTHORIZATION_SUCCESS",payload:e})}).catch(function(e){return a({type:"REQUEST_AUTHORIZATION_FAILED",payload:"\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c"})})}},ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"password-reset",t=arguments.length>1?arguments[1]:void 0;return function(a){fetch("".concat(Y).concat(e),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(Z).then(function(e){console.log(e),a({type:"SEND_EMAIL_MESSAGE",payload:e})})}},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"auth/register",t=arguments.length>1?arguments[1]:void 0;return function(a){a({type:"REQUEST_REGISTRATION"}),fetch("".concat(Y).concat(e),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(Z).then(function(e){ae("accessToken",e.accessToken,{expires:20}),localStorage.setItem("refreshToken",e.refreshToken),a({type:"REQUEST_REGISTRATION_SUCCESS",payload:e})}).catch(function(e){return a({type:"REQUEST_REGISTRATION_FAILED",payload:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0443\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d"})})}};var se=function(){var e=r.a.useState("levlevlavrov@gmail.com"),t=Object(_.a)(e,2),a=t[0],n=t[1],c=r.a.useState("Lion2020"),o=Object(_.a)(c,2),l=o[0],i=o[1],m=Object(h.b)();return(0,Object(h.c)(function(e){return e.user}).getUser)()?r.a.createElement(u.a,{to:{pathname:"/YandexCourseReact/"}}):r.a.createElement("div",{className:ee.a.container},r.a.createElement("p",{className:"text text_type_main-medium mb-6"},"\u0412\u0445\u043e\u0434"),r.a.createElement("div",{className:"pb-6"},r.a.createElement(s.Input,{type:"email",size:"default",onChange:function(e){return n(e.target.value)},value:a,name:"email"})),r.a.createElement("div",{className:"pb-6"},r.a.createElement(s.PasswordInput,{onChange:function(e){return i(e.target.value)},value:l,name:"password"})),r.a.createElement("div",{className:"pb-20"},r.a.createElement(s.Button,{type:"primary",size:"large",onClick:function(){m(re("auth/login",{email:a,password:l}))}},"\u0412\u043e\u0439\u0442\u0438")),r.a.createElement("p",{className:"text text_type_main-small pb-4"},"\u0412\u044b - \u043d\u043e\u0432\u044b\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c? \u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"),r.a.createElement("p",{className:"text text_type_main-small"},"\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c? \u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"))},le=a(104);var ie=function(e){var t=e.onlyUnAuth,a=void 0!==t&&t,n=e.children,c=Object(le.a)(e,["onlyUnAuth","children"]),o=Object(h.c)(function(e){return e.user}),s=o.getUser,l=o.isAuthChecked,i=Object(u.g)(),m=(i.state||{from:{pathname:"/"}}).from;if(!l)return r.a.createElement(r.a.Fragment,null);if(a&&s()){var p=(i.state||{from:{pathname:"/YandexCourseReact"}}).from;return r.a.createElement(u.b,c,r.a.createElement(u.a,{to:p}))}return a||s()?r.a.createElement(u.b,c,n):r.a.createElement(u.b,c,r.a.createElement(u.a,{to:{pathname:"/YandexCourseReact/login",state:{from:m}}}))},ue=a(98),me=a.n(ue);var pe=function(){var e=r.a.useState("bob@example.com"),t=Object(_.a)(e,2),a=t[0],n=t[1],c=r.a.useState("name"),o=Object(_.a)(c,2),l=o[0],i=o[1],m=r.a.useState("password"),p=Object(_.a)(m,2),d=p[0],E=p[1],g=Object(h.b)(),f=Object(h.c)(function(e){return e.user}).getUser;return f()?(console.log(f()),r.a.createElement(u.a,{to:{pathname:"/YandexCourseReact/"}})):r.a.createElement("div",{className:me.a.container},r.a.createElement("p",{className:"text text_type_main-medium mb-6"},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),r.a.createElement("div",{className:"pb-6"},r.a.createElement(s.Input,{type:"email",size:"default",onChange:function(e){return i(e.target.value)},value:l,name:"email"})),r.a.createElement("div",{className:"pb-6"},r.a.createElement(s.Input,{type:"email",size:"default",onChange:function(e){return n(e.target.value)},value:a,name:"email"})),r.a.createElement("div",{className:"pb-6"},r.a.createElement(s.PasswordInput,{onChange:function(e){return E(e.target.value)},value:d,name:"password"})),r.a.createElement("div",{className:"pb-20"},r.a.createElement(s.Button,{type:"primary",size:"large",onClick:function(){g(oe("auth/register",{email:a,password:d,name:l}))}},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f")),r.a.createElement("p",{className:"text text_type_main-small pb-4"},"\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b? \u0412\u043e\u0439\u0442\u0438"))},de=a(99),Ee=a.n(de);var _e=function(){var e=r.a.useState(""),t=Object(_.a)(e,2),a=t[0],n=t[1],c=r.a.useState(""),o=Object(_.a)(c,2),l=o[0],i=o[1],m=Object(h.b)(),p=Object(h.c)(function(e){return e.user}),d=p.setNewPass;return p.messageError,d?r.a.createElement(u.a,{to:{pathname:"/"}}):r.a.createElement("div",{className:Ee.a.container},r.a.createElement("p",{className:"text text_type_main-medium mb-6"},"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"),r.a.createElement("div",{className:"pb-6"},r.a.createElement(s.PasswordInput,{placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",onChange:function(e){return n(e.target.value)},value:a,name:"password"})),r.a.createElement("div",{className:"pb-6"},r.a.createElement(s.Input,{type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0434 \u0438\u0437 \u043f\u0438\u0441\u044c\u043c\u0430",size:"default",onChange:function(e){return i(e.target.value)},value:l,name:"text"})),r.a.createElement("div",{className:"pb-20"},r.a.createElement(s.Button,{type:"primary",size:"large",onClick:function(){m(ce("password-reset/reset",{email:l}))}},"\u0421\u0445\u043e\u0440\u0430\u043d\u0438\u0442\u044c")),r.a.createElement("p",{className:"text text_type_main-small"},"\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c? \u0412\u043e\u0439\u0442\u0438"))},ge=a(100),fe=a.n(ge);var be=function(){var e=r.a.useState(""),t=Object(_.a)(e,2),a=t[0],n=t[1],c=Object(h.b)(),o=Object(h.c)(function(e){return e.user}),l=o.resetPass;return o.messageError,l?r.a.createElement(u.a,{to:{pathname:"/reset-password"}}):r.a.createElement("div",{className:fe.a.container},r.a.createElement("p",{className:"text text_type_main-medium mb-6"},"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"),r.a.createElement("div",{className:"pb-6"},r.a.createElement(s.Input,{type:"text",placeholder:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 e-mail",size:"default",onChange:function(e){return n(e.target.value)},value:a,name:"text"})),r.a.createElement("div",{className:"pb-20"},r.a.createElement(s.Button,{type:"primary",size:"large",onClick:function(){console.log({email:a}),c(ce("password-reset",{email:a}))}},"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c")),r.a.createElement("p",{className:"text text_type_main-small"},"\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c? \u0412\u043e\u0439\u0442\u0438"))},ve=a(49),ye=a.n(ve);var he=function(){var e=Object(h.c)(function(e){return e.user}).user,t=r.a.useState(e.email),a=Object(_.a)(t,2),n=a[0],c=a[1],o=r.a.useState(e.name),l=Object(_.a)(o,2),i=l[0],u=l[1],m=r.a.useState(""),p=Object(_.a)(m,2),d=p[0],E=p[1];return r.a.createElement("div",{className:ye.a.profile},r.a.createElement("ul",{className:ye.a.menu},r.a.createElement("li",null,r.a.createElement("p",{className:"text text_type_main-medium mb-6"},"\u041f\u0440\u043e\u0444\u0438\u043b\u044c")),r.a.createElement("li",null,r.a.createElement("p",{className:"text text_type_main-medium mb-6"},"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u043e\u0432")),r.a.createElement("li",null,r.a.createElement("p",{className:"text text_type_main-medium mb-6"},"\u0412\u044b\u0445\u043e\u0434"))),r.a.createElement("div",{className:ye.a.container},r.a.createElement("div",{className:"pb-6"},r.a.createElement(s.Input,{icon:"EditIcon",type:"text",placeholder:"\u041b\u043e\u0433\u0438\u043d",size:"default",onChange:function(e){return c(e.target.value)},value:n,name:"text"})),r.a.createElement("div",{className:"pb-6"},r.a.createElement(s.Input,{icon:"EditIcon",type:"text",placeholder:"\u0418\u043c\u044f",size:"default",onChange:function(e){return u(e.target.value)},value:i,name:"text"})),r.a.createElement("div",{className:"pb-6"},r.a.createElement(s.PasswordInput,{icon:"EditIcon",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",onChange:function(e){return E(e.target.value)},value:d,name:"password"}))))};var Oe=function(){var e=Object(h.b)(),t=Object(h.c)(function(e){return e.burger.burgersData});return r.a.useEffect(function(){e(ne()),e(V("ingredients"))},[]),r.a.createElement("div",{className:E.a.App},r.a.createElement(p,null),r.a.createElement(u.d,null,r.a.createElement(ie,{path:"/YandexCourseReact/",exact:!0},t.length?r.a.createElement("div",{className:E.a.burger},r.a.createElement(A,null),r.a.createElement(X,null)):r.a.createElement(r.a.Fragment,null)),r.a.createElement(ie,{onlyUnAuth:!0,path:"/YandexCourseReact/login",exact:!0},r.a.createElement(se,null)),r.a.createElement(ie,{onlyUnAuth:!0,path:"/YandexCourseReact/register",exact:!0},r.a.createElement(pe,null)),r.a.createElement(ie,{onlyUnAuth:!0,path:"/YandexCourseReact/forgot-password",exact:!0},r.a.createElement(be,null)),r.a.createElement(ie,{onlyUnAuth:!0,path:"/YandexCourseReact/reset-password",exact:!0},r.a.createElement(_e,null)),r.a.createElement(ie,{path:"/YandexCourseReact/profile",exact:!0},r.a.createElement(he,null)),r.a.createElement(ie,{path:"/ingredients/:id",exact:!0}),r.a.createElement(u.b,{path:"/"})))},Ce=function(e){e&&e instanceof Function&&a.e(1).then(a.bind(null,220)).then(function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;a(e),n(e),r(e),c(e),o(e)})},xe=a(28),Ne={burgersData:[],burgersRequest:!1,burgersFailed:!1},Te={orderData:{name:"Custom burger",order:{number:32145},success:!1},orderOpen:!1,orderRequest:!1,orderFailed:!1},Re={constructorData:[],constructorBun:{price:0,name:"Testy bun",isEmpty:!0},constructorLength:0,constructorFinalCoast:0},Se={ingredientData:{},modalOpen:!0},Ie={isAuthChecked:!1,getUser:function(){return null},authorizationRequest:!1,authorizationFailed:!1,registrationRequest:!1,registrationFailed:!1,resetPass:!1,setNewPass:!1,user:{email:"",name:""},accessToken:null,refreshToken:null,messageError:""},je=Object(xe.b)({ingredient:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(v.a)({},e,{ingredientData:t.item,modalOpen:!1});case C:return Object(v.a)({},e,{ingredientData:{},modalOpen:!0});default:return e}},constructorBurger:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return Object(v.a)({},e,{constructorData:[].concat(Object(k.a)(e.constructorData),[t.item]),constructorLength:e.constructorLength+1,constructorFinalCoast:e.constructorFinalCoast+t.item.price});case F:return Object(v.a)({},e,{constructorData:[].concat(Object(k.a)(e.constructorData.slice(0,e.constructorData.findIndex(function(e){return e.index_id===t.item.index_id}))),Object(k.a)(e.constructorData.slice(e.constructorData.findIndex(function(e){return e.index_id===t.item.index_id})+1,e.constructorLength))),constructorLength:e.constructorLength-1,constructorFinalCoast:e.constructorFinalCoast-t.item.price});case G:return Object(v.a)({},e,{constructorFinalCoast:e.constructorFinalCoast-e.constructorBun.price+t.item.price,constructorBun:t.item,isEmpty:!1});case q:return Object(v.a)({},e,{constructorData:t.constructorData});default:return e}},burger:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_BURGER_REQUEST":return Object(v.a)({},e,{burgersRequest:!0});case"GET_BURGER_SUCCESS":return Object(v.a)({},e,{burgersRequest:!0,burgersData:t.burgersData});case"GET_BURGER_FAILED":return Object(v.a)({},e,{burgersRequest:!0,burgersFailed:!1});case"UPDATE_BURGER_DATA":return Object(v.a)({},e,{burgersData:t.burgersData});default:return e}},order:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ORDER_REQUEST":return Object(v.a)({},e,{orderRequest:!0,orderOpen:!0});case"GET_ORDER_SUCCESS":return Object(v.a)({},e,{orderRequest:!1,orderData:t.orderData});case"GET_ORDER_FAILED":return Object(v.a)({},e,{orderRequest:!1,orderFailed:!0});case J:return Object(v.a)({},e,{orderData:Te.orderData,orderOpen:!1});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_CHECKED":return Object(v.a)({},e,{isAuthChecked:!0,getUser:function(){return t.payload.user},user:t.payload.user});case"REQUEST_AUTHORIZATION":return Object(v.a)({},e,{isAuthChecked:!0,authorizationRequest:!0});case"REQUEST_AUTHORIZATION_SUCCESS":return Object(v.a)({},e,{authorizationRequest:!1,user:t.payload.user,accessToken:t.payload.accessToken,refreshToken:t.payload.refreshToken,getUser:function(){return t.payload.user}});case"REQUEST_AUTHORIZATION_FAILED":return Object(v.a)({},e,{authorizationRequest:!1,user:Ie.user,authorizationFailed:!0,messageError:t.payload,getUser:function(){return null}});case"UPDATE_TOKEN":return Object(v.a)({},e,{accessToken:t.payload.accessToken,refreshToken:t.payload.refreshToken});case"UPDATE_TOKEN_FAILED":return Object(v.a)({},e,{messageError:t.payload});case"REQUEST_REGISTRATION":return Object(v.a)({},e,{registrationRequest:!0});case"REQUEST_REGISTRATION_SUCCESS":return Object(v.a)({},e,{registrationRequest:!1,user:t.payload.user,accessToken:t.payload.accessToken,refreshToken:t.payload.refreshToken,getUser:function(){return t.payload.user}});case"REQUEST_REGISTRATION_FAILED":return Object(v.a)({},e,{registrationRequest:!1,registrationFailed:!0,messageError:t.payload});case"SEND_EMAIL_MESSAGE":return Object(v.a)({},e,{resetPass:t.payload.success,messageError:t.payload.message});case"RESET_PASSWORD":return Object(v.a)({},e,{setNewPass:t.payload.success,messageError:t.payload.message});default:return e}}}),De=a(101),Ue=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):xe.c)(Object(xe.a)(De.a)),Ae=Object(xe.d)(je,Ue),ke=a(219),Be=a(103);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ke.a,{backend:Be.a},r.a.createElement(h.a,{store:Ae},r.a.createElement(m.a,null,r.a.createElement(Oe,null))))),document.getElementById("root")),Ce()},29:function(e,t,a){e.exports={container:"BurgerConstructor_container__2rEYZ",componentsOfBurger:"BurgerConstructor_componentsOfBurger__3FsLX",emptyText:"BurgerConstructor_emptyText__2gLGR",active:"BurgerConstructor_active__1fO9q",component:"BurgerConstructor_component__3__od",footerConstructor:"BurgerConstructor_footerConstructor__2MqtK",backetItem:"BurgerConstructor_backetItem__ZRtJB"}},49:function(e,t,a){e.exports={container:"profile_container__1xFFa",profile:"profile_profile__3PFUA",menu:"profile_menu__YfwHM",holder:"profile_holder__2GARR"}},71:function(e,t,a){e.exports={App:"App_App__2LavN",burger:"App_burger__C79SS"}},73:function(e,t,a){e.exports={OrderNumber:"OrderDetails_OrderNumber__3_5LB",pColor:"OrderDetails_pColor__2vYE6"}},97:function(e,t,a){e.exports={container:"loginStyles_container__1TWik"}},98:function(e,t,a){e.exports={container:"registerStyles_container__2X93m"}},99:function(e,t,a){e.exports={container:"resetPassword_container__1A5kR"}}},[[106,3,2]]]);
//# sourceMappingURL=main.52131b7a.chunk.js.map